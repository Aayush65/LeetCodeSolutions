class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        nodeToRemove = initial[0]
        n = len(graph)
        minimumInfected = n
        
        nodeMap = {i: [] for i in range(n)}
        for i in range(n):
            for j in range(n):
                if graph[i][j]:
                    nodeMap[i].append(j)
        
        initial = set(initial)
        for node in initial:
            infected = set()
            q = initial.copy()
            q.remove(node)
            while q:
                poped = q.pop()
                if poped == node:
                    continue
                infected.add(poped)
                for i in nodeMap[poped]:
                    if i not in infected:
                        q.add(i)

            if minimumInfected > len(infected):
                nodeToRemove = node
                minimumInfected = len(infected)
            elif minimumInfected == len(infected):
                nodeToRemove = min(nodeToRemove, node)

        return nodeToRemove